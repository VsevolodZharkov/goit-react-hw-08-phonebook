{"version":3,"file":"static/js/415.a7ae4dcc.chunk.js","mappings":"oLAAaA,EAAS,WACpB,OACE,iCACE,gBAAKC,UAAU,8BACf,gBACEA,UAAU,mEACVC,MAAO,CAAEC,QAAS,QAASC,OAAQ,SAFrC,UAIE,gBAAKH,UAAU,4BAAf,UACE,iBAAMA,UAAU,kBAAhB,8BAKT,C,+JCNKI,EAAe,CACnBC,MAAO,GACPC,QAAS,GACTC,MAAO,GACPC,cAAe,IAGJC,EAAc,WACzB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAAkCC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAwBF,EAAAA,EAAAA,UAASR,GAAjC,eAAOW,EAAP,KAAaC,EAAb,KAEMC,EAAe,SAAAC,GACnB,MAAwBA,EAAMC,OAAtBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdL,GAAQ,SAAAM,GAAI,yBAAUA,GAAV,cAAiBF,EAAOC,GAAxB,GACb,EAyBD,OACE,gCACGR,IAAa,SAACd,EAAA,EAAD,KAEd,kBAAMwB,OAAO,IAAIC,SAzBA,SAAAN,GACnBA,EAAMO,iBAEUC,OAAOC,OAAOZ,GAAMa,MAAK,SAAAC,GAAI,OAAKA,CAAL,IAE3CC,EAAAA,GAAAA,MAAY,8BAIdhB,GAAa,IACbiB,EAAAA,EAAAA,IAAqBhB,GAClBiB,MAAK,SAAAC,GACJH,EAAAA,GAAAA,QAAc,6CACdpB,EAAS,UAAD,OAAWuB,EAAKC,IACzB,IACAC,OAAM,WACLL,EAAAA,GAAAA,MAAY,wBACb,IACAM,SAAQ,kBAAMtB,GAAa,EAAnB,IACZ,EAMG,WACE,gBAAKd,UAAU,OAAf,UACE,mBAAOA,UAAU,qBAAjB,WACE,uCACA,kBACEqB,MAAON,EAAKV,MACZgC,SAAUpB,EACVqB,KAAK,OACLlB,KAAK,QACLpB,UAAU,eACVuC,YAAY,yBAKlB,gBAAKvC,UAAU,OAAf,UACE,mBAAOA,UAAU,qBAAjB,WACE,yCACA,qBACEqB,MAAON,EAAKT,QACZ+B,SAAUpB,EACVjB,UAAU,eACVoB,KAAK,UACLoB,KAAK,KACLD,YAAY,uBAKlB,iBAAKvC,UAAU,OAAf,WACE,mBAAOA,UAAU,qBAAjB,WACE,4DACA,kBACEsC,KAAK,OACLlB,KAAK,gBACLC,MAAON,EAAKP,cACZ6B,SAAUpB,EACVjB,UAAU,eACVuC,YAAY,4CAIfxB,EAAKR,QAAS,gBAAKkC,IAAK1B,EAAKP,cAAeR,UAAU,gBAAgB0C,IAAI,GAAGzC,MAAO,CAAEE,OAAQ,eAGjG,iBAAKH,UAAU,OAAf,WACE,mBAAOA,UAAU,qBAAjB,WACE,yDACA,kBACEsC,KAAK,OACLlB,KAAK,QACLC,MAAON,EAAKR,MACZ8B,SAAUpB,EACVjB,UAAU,eACVuC,YAAY,4CAIfxB,EAAKR,QAAS,gBAAKkC,IAAK1B,EAAKR,MAAOP,UAAU,gBAAgB0C,IAAI,GAAGzC,MAAO,CAAEE,OAAQ,eAGzF,iBAAKH,UAAU,cAAf,WACE,mBAAQsC,KAAK,SAAStC,UAAU,iCAAiC2C,QAzFrD,kBAAM3B,EAAQZ,EAAd,EAyFZ,yBAIA,mBAAQkC,KAAK,SAAStC,UAAU,kBAAhC,4BAOT,C","sources":["components/Loader/Loader.jsx","pages/NewPostPage/NewPostPage.jsx"],"sourcesContent":["export const Loader = () => {\n  return (\n    <>\n      <div className=\"modal-backdrop fade show\" />\n      <div\n        className=\"modal fade show d-flex align-items-center justify-content-center\"\n        style={{ display: 'block', height: '100vh' }}\n      >\n        <div className=\"spinner-border text-light\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n    </>\n  );\n};\n","import { useState } from 'react';\n\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { Loader } from '../../components/Loader/Loader';\nimport { createNewPostService } from '../../services/posts-service';\n\nconst initialState = {\n  title: '',\n  content: '',\n  image: '',\n  preview_image: '',\n};\n\nexport const NewPostPage = () => {\n  const navigate = useNavigate();\n  const [isLoading, setIsLoading] = useState(false);\n  const [form, setForm] = useState(initialState);\n\n  const handleChange = event => {\n    const { name, value } = event.target;\n    setForm(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleReset = () => setForm(initialState);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const isEmpty = Object.values(form).some(item => !item);\n    if (isEmpty) {\n      toast.error('Fill all required fields!');\n      return;\n    }\n\n    setIsLoading(true);\n    createNewPostService(form)\n      .then(data => {\n        toast.success('You have successfully created a new post!');\n        navigate(`/posts/${data.id}`);\n      })\n      .catch(() => {\n        toast.error('Something went wrong!');\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  return (\n    <>\n      {isLoading && <Loader />}\n\n      <form action=\"#\" onSubmit={handleSubmit}>\n        <div className=\"mb-3\">\n          <label className=\"d-block form-label\">\n            <p>Post title</p>\n            <input\n              value={form.title}\n              onChange={handleChange}\n              type=\"text\"\n              name=\"title\"\n              className=\"form-control\"\n              placeholder=\"Post title ...\"\n            />\n          </label>\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"d-block form-label\">\n            <p>Post content</p>\n            <textarea\n              value={form.content}\n              onChange={handleChange}\n              className=\"form-control\"\n              name=\"content\"\n              rows=\"10\"\n              placeholder=\"Post content\"\n            />\n          </label>\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"d-block form-label\">\n            <p>Preview image url (small image)</p>\n            <input\n              type=\"text\"\n              name=\"preview_image\"\n              value={form.preview_image}\n              onChange={handleChange}\n              className=\"form-control\"\n              placeholder=\"https://example.com/samll_image.jpeg\"\n            />\n          </label>\n\n          {form.image && <img src={form.preview_image} className=\"img-thumbnail\" alt=\"\" style={{ height: '200px' }} />}\n        </div>\n\n        <div className=\"mb-3\">\n          <label className=\"d-block form-label\">\n            <p>Post image url (large image)</p>\n            <input\n              type=\"text\"\n              name=\"image\"\n              value={form.image}\n              onChange={handleChange}\n              className=\"form-control\"\n              placeholder=\"https://example.com/large_image.jpeg\"\n            />\n          </label>\n\n          {form.image && <img src={form.image} className=\"img-thumbnail\" alt=\"\" style={{ height: '200px' }} />}\n        </div>\n\n        <div className=\"d-flex mt-5\">\n          <button type=\"button\" className=\"d-block btn btn-secondary me-4\" onClick={handleReset}>\n            Reset form\n          </button>\n\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Submit\n          </button>\n        </div>\n      </form>\n    </>\n  );\n};\n"],"names":["Loader","className","style","display","height","initialState","title","content","image","preview_image","NewPostPage","navigate","useNavigate","useState","isLoading","setIsLoading","form","setForm","handleChange","event","target","name","value","prev","action","onSubmit","preventDefault","Object","values","some","item","toast","createNewPostService","then","data","id","catch","finally","onChange","type","placeholder","rows","src","alt","onClick"],"sourceRoot":""}